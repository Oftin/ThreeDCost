import { useContext } from "react";
import { SettingsContext } from "@/src/store/contexts/SettingsContext";
import { Language } from "@/src/features/Settings/types/settingsTypes";

const translations = {
  pl: {
    settings: {
      title: "Ustawienia",
      generalSettings: "Ogólne Ustawienia",
      defaultCurrency: "Domyślna Waluta:",
      displayMode: "Tryb Wyświetlania:",
      light: "Jasny",
      dark: "Ciemny",
      system: "Systemowy",
      unitSystem: "System Jednostek:",
      metric: "Metryczny",
      imperial: "Imperialny",
      language: "Język:",
      polish: "Polski",
      english: "Angielski",
      chinese: "Chiński",
      ratesAndDepreciation: "Stawki i Amortyzacja",
      defaultHourlyRate: "Domyślna stawka godzinowa pracy (zł/h)",
      defaultMachineDepreciationRate: "Domyślna amortycja maszyny (zł/h)",
      saveRates: "Zapisz Stawki",
      ratesSavedSuccess: "Stawki zostały pomyślnie zapisane!",
      ok: "OK",
      requiredFieldsError: "Wszystkie pola są wymagane!",
      invalidNumberError: "Wprowadź poprawne wartości liczbowe.",
    },
    calculator: {
      title: "Kalkulator Marży",
      calculateMargin: "Oblicz Marżę",
      calculationResults: "Wyniki Kalkulacji",

      // CalculationForm
      printParameters: "Parametry Druku 3D",
      materialCost: "Koszt materiału (gramy, {currency})", // placeholder
      printWeight: "Waga wydruku (gramy)",
      selectMaterialProfile: "Wybierz profil materiału:",
      printTimeHours: "Czas druku (godziny)",
      printTimeMinutes: "Czas druku (minuty)",
      machineDepreciationRate: "Amortyzacja maszyny (koszt za godzinę, zł)",
      energyCostPerHour: "Koszt energii elektrycznej (za godzinę, zł)",
      postProcessingTimeHours: "Czas post-processing (godziny)",
      additionalCosts: "Dodatkowe koszty (np. opakowanie, wysyłka, zł)",

      // CalculationForm
      designParameters: "Parametry Projektowania 3D",
      designTimeHours: "Czas projektowania (godziny)",
      designerHourlyRate: "Stawka godzinowa projektanta (zł)",
      desiredMarginPercentage: "Żądana marża (%)",

      // CalculationResults
      totalCost: "Całkowity Koszt:",
      margin: "Marża ({percentage}%):", // placeholder
      suggestedSellingPrice: "Sugerowana Cena Sprzedaży:",
    },
    materialProfiles: {
      title: "Profile Materiałów",
      addProfile: "Dodaj Profil Materiału",
      editProfile: "Edytuj Profil Materiału",
      profileName: "Nazwa Profilu",
      materialType: "Typ Materiału",
      pricePerUnit: "Cena za jednostkę ({currency})",
      unitOfMeasure: "Jednostka miary (np. gram, kg, metr)",
      notes: "Uwagi",
      save: "Zapisz",
      cancel: "Anuluj",
      delete: "Usuń",
      confirmDelete: "Potwierdź usunięcie",
      areYouSureDelete: "Czy na pewno chcesz usunąć ten profil materiału?",
      noProfilesFound: "Brak zdefiniowanych profili materiałów. Kliknij '+' aby dodać nowy.",
      profileSavedSuccess: "Profil materiału został pomyślnie zapisany!",
      profileDeletedSuccess: "Profil materiału został pomyślnie usunięty!",
      profileAddedSuccess: "Nowy profil materiału został pomyślnie dodany!",
      errorSavingProfile: "Błąd podczas zapisu profilu materiału.",
      errorDeletingProfile: "Błąd podczas usuwania profilu materiału.",
      profileNameRequired: "Nazwa profilu jest wymagana.",
      materialTypeRequired: "Typ materiału jest wymagany.",
      pricePerUnitRequired: "Cena za jednostkę jest wymagana.",
      unitOfMeasureRequired: "Jednostka miary jest wymagana.",
      density: "Gęstość",
      energyConsumption: "Zużycie energii",
      materialName: "Nazwa materiału",
      costPerGram: "Koszt za gram ({currency})",
      densityLabel: "Gęstość (g/cm³)",
      energyConsumptionLabel: "Zużycie energii (kWh/g)",
    },
    common: {
      error: "Błąd",
      back: "Wróć",
      add: "Dodaj",
      edit: "Edytuj",
      delete: "Usuń",
      confirmDelete: "Potwierdź usunięcie",
      areYouSureDelete: "Czy na pewno chcesz usunąć ten profil materiału?",
      cancel: "Anuluj",
      deleteConfirm: "Usuń",
      profileNotFound: "Nie znaleziono profilu do edycji.",
      saveChanges: "Zapisz Zmiany",
      addProfile: "Dodaj Profil",
      saving: "Zapisuję...",
    },
  },
  en: {
    settings: {
      title: "Settings",
      generalSettings: "General Settings",
      defaultCurrency: "Default Currency:",
      displayMode: "Display Mode:",
      light: "Light",
      dark: "Dark",
      system: "System",
      unitSystem: "Unit System:",
      metric: "Metric",
      imperial: "Imperial",
      language: "Language:",
      polish: "Polish",
      english: "English",
      chinese: "Chinese",
      ratesAndDepreciation: "Rates & Depreciation",
      defaultHourlyRate: "Default hourly rate (PLN/h)",
      defaultMachineDepreciationRate: "Default machine depreciation (PLN/h)",
      saveRates: "Save Rates",
      ratesSavedSuccess: "Rates saved successfully!",
      ok: "OK",
      requiredFieldsError: "All fields are required!",
      invalidNumberError: "Please enter valid numeric values.",
    },
    calculator: {
      title: "Margin Calculator",
      calculateMargin: "Calculate Margin",
      calculationResults: "Calculation Results",

      // CalculationForm
      printParameters: "3D Print Parameters",
      materialCost: "Material cost (grams, {currency})",
      printWeight: "Print weight (grams)",
      selectMaterialProfile: "Select material profile:",
      printTimeHours: "Print time (hours)",
      printTimeMinutes: "Print time (minutes)",
      machineDepreciationRate: "Machine depreciation (cost per hour, PLN)",
      energyCostPerHour: "Electricity cost (per hour, PLN)",
      postProcessingTimeHours: "Post-processing time (hours)",
      additionalCosts: "Additional costs (e.g., packaging, shipping, PLN)",

      // CalculationForm
      designParameters: "3D Design Parameters",
      designTimeHours: "Design time (hours)",
      designerHourlyRate: "Designer hourly rate (PLN)",
      desiredMarginPercentage: "Desired margin (%)",

      // CalculationResults
      totalCost: "Total Cost:",
      margin: "Margin ({percentage}%):",
      suggestedSellingPrice: "Suggested Selling Price:",
    },
    materialProfiles: {
      title: "Material Profiles",
      addProfile: "Add Material Profile",
      editProfile: "Edit Material Profile",
      profileName: "Profile Name",
      materialType: "Material Type",
      pricePerUnit: "Price per unit ({currency})",
      unitOfMeasure: "Unit of Measure (e.g., gram, kg, meter)",
      notes: "Notes",
      save: "Save",
      cancel: "Cancel",
      delete: "Delete",
      confirmDelete: "Confirm Deletion",
      areYouSureDelete: "Are you sure you want to delete this material profile?",
      noProfilesFound: "No material profiles defined. Click '+' to add a new one.",
      profileSavedSuccess: "Material profile saved successfully!",
      profileDeletedSuccess: "Material profile deleted successfully!",
      profileAddedSuccess: "New material profile added successfully!",
      errorSavingProfile: "Error saving material profile.",
      errorDeletingProfile: "Error deleting material profile.",
      profileNameRequired: "Profile name is required.",
      materialTypeRequired: "Material type is required.",
      pricePerUnitRequired: "Price per unit is required.",
      unitOfMeasureRequired: "Unit of measure is required.",
      density: "Density",
      energyConsumption: "Energy Consumption",
      materialName: "Material Name",
      costPerGram: "Cost per gram ({currency})",
      densityLabel: "Density (g/cm³)",
      energyConsumptionLabel: "Energy Consumption (kWh/g)",
    },
    common: {
      error: "Error",
      back: "Back",
      add: "Add",
      edit: "Edit",
      delete: "Delete",
      confirmDelete: "Confirm Deletion",
      areYouSureDelete: "Are you sure you want to delete this material profile?",
      cancel: "Cancel",
      deleteConfirm: "Delete",
      profileNotFound: "Profile not found for editing.",
      saveChanges: "Save Changes",
      addProfile: "Add Profile",
      saving: "Saving...",
    },
  },
  zh: {
    settings: {
      title: "设置",
      generalSettings: "通用设置",
      defaultCurrency: "默认货币:",
      displayMode: "显示模式:",
      light: "亮色",
      dark: "暗色",
      system: "系统",
      unitSystem: "单位系统:",
      metric: "公制",
      imperial: "英制",
      language: "语言:",
      polish: "波兰语",
      english: "英语",
      chinese: "中文",
      ratesAndDepreciation: "费率与折旧",
      defaultHourlyRate: "默认每小时费率 (PLN/h)",
      defaultMachineDepreciationRate: "默认机器折旧 (PLN/h)",
      saveRates: "保存费率",
      ratesSavedSuccess: "费率已成功保存！",
      ok: "确定",
      requiredFieldsError: "所有字段都是必填项！",
      invalidNumberError: "请输入有效的数字值。",
    },
    calculator: {
      title: "利润计算器",
      calculateMargin: "计算利润",
      calculationResults: "计算结果",

      // CalculationForm
      printParameters: "3D 打印参数",
      materialCost: "材料成本 (克, {currency})",
      printWeight: "打印重量 (克)",
      selectMaterialProfile: "选择材料配置文件:",
      printTimeHours: "打印时间 (小时)",
      printTimeMinutes: "打印时间 (分钟)",
      machineDepreciationRate: "机器折旧 (每小时成本, 兹罗提)",
      energyCostPerHour: "电费 (每小时成本, 兹罗提)",
      postProcessingTimeHours: "后处理时间 (小时)",
      additionalCosts: "额外费用 (例如, 包装, 运费, 兹罗提)",

      // CalculationForm
      designParameters: "3D 设计参数",
      designTimeHours: "设计时间 (小时)",
      designerHourlyRate: "设计师时薪 (兹罗提)",
      desiredMarginPercentage: "期望利润 (%)",

      // CalculationResults
      totalCost: "总成本:",
      margin: "利润 ({percentage}%):",
      suggestedSellingPrice: "建议售价:",
    },
    materialProfiles: {
      title: "材料档案",
      addProfile: "添加材料档案",
      editProfile: "编辑材料档案",
      profileName: "档案名称",
      materialType: "材料类型",
      pricePerUnit: "每单位价格 ({currency})",
      unitOfMeasure: "计量单位 (例如: 克, 公斤, 米)",
      notes: "备注",
      save: "保存",
      cancel: "取消",
      delete: "删除",
      confirmDelete: "确认删除",
      areYouSureDelete: "您确定要删除此材料档案吗？",
      noProfilesFound: "没有定义材料档案。点击“+”添加新档案。",
      profileSavedSuccess: "材料档案保存成功！",
      profileDeletedSuccess: "材料档案删除成功！",
      profileAddedSuccess: "新材料档案添加成功！",
      errorSavingProfile: "保存材料档案时出错。",
      errorDeletingProfile: "删除材料档案时出错。",
      profileNameRequired: "档案名称为必填项。",
      materialTypeRequired: "材料类型为必填项。",
      pricePerUnitRequired: "每单位价格为必填项。",
      unitOfMeasureRequired: "计量单位为必填项。",
      density: "密度",
      energyConsumption: "能源消耗",
      materialName: "材料名称",
      costPerGram: "每克成本 ({currency})",
      densityLabel: "密度 (克/立方厘米)",
      energyConsumptionLabel: "能耗 (千瓦时/克)",
    },
    common: {
      error: "错误",
      back: "返回",
      add: "添加",
      edit: "编辑",
      delete: "删除",
      confirmDelete: "确认删除",
      areYouSureDelete: "您确定要删除此材料档案吗？",
      cancel: "取消",
      deleteConfirm: "删除",
      profileNotFound: "未找到要编辑的档案。",
      saveChanges: "保存更改",
      addProfile: "添加档案",
      saving: "保存中...",
    },
  },
};

type TranslationKeys = typeof translations.pl;

export const i18n = (lang: Language) => {
  return translations[lang] as TranslationKeys;
};

export const useTranslation = () => {
  const { settings } = useContext(SettingsContext);
  return i18n(settings.language);
};
